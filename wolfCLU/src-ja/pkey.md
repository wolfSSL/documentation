### PKEY コマンド — 公開鍵／秘密鍵の汎用処理

`wolfssl pkey` コマンドは、暗号鍵ファイルを対象として  
**読み込み、内容確認、形式変換、および公開鍵の抽出** を行うための
**汎用的な鍵処理ユーティリティ**です。

RSA 鍵専用の `rsa` コマンドとは異なり、
`pkey` コマンドは **複数の鍵種別** を単一のインタフェースで扱えるよう設計されています。

本コマンドは OpenSSL の `openssl pkey` コマンドと同様の機能を提供します。

主な用途は以下のとおりです。

- 鍵の PEM / DER 形式変換
- 秘密鍵から公開鍵の抽出
- 単一コマンドによる複数鍵種別の処理
- 鍵データの再エンコードや簡易確認

---

#### 機能概要

`pkey` コマンドは、既存の暗号鍵を対象として以下の操作をサポートします。

- 公開鍵または秘密鍵の読み込み
- 鍵エンコード形式の変換（PEM ↔ DER）
- 秘密鍵から公開鍵の出力
- 鍵種別に依存しない汎用的な鍵処理

コマンドの挙動は、入力鍵が公開鍵か秘密鍵か、
および指定されたオプションによって決まります。

---

#### 入出力

- **入力**
  - 公開鍵または秘密鍵（PEM または DER）
- **出力**
  - 公開鍵または秘密鍵（PEM または DER）

---

#### 共通オプション

| オプション | 説明 |
|------|-------------|
| `-in <file>` | 鍵を含む入力ファイル |
| `-out <file>` | 出力ファイル（省略時は標準出力） |
| `-inform pem \| der` | 入力鍵の形式 |
| `-outform pem \| der` | 出力鍵の形式 |
| `-pubin` | 入力が公開鍵であることを指定 |
| `-pubout` | 秘密鍵の代わりに公開鍵を出力 |

---

#### 注意事項

- `-pubin` が指定されていない場合、入力は秘密鍵であると仮定されます。
- `-pubout` が指定された場合、秘密鍵から公開鍵が抽出され、
  指定された出力先に書き込まれます。
- `pkey` コマンドは鍵の生成は行いません。
  鍵生成には `genkey` コマンドを使用してください。
- RSA モジュラスの表示など、アルゴリズム固有の詳細情報の表示には対応していません。
  必要に応じて `rsa` などのアルゴリズム専用コマンドを使用してください。

---

#### 例

秘密鍵から公開鍵を抽出する例:

```sh
wolfssl pkey -in key.pem -pubout -out pubkey.pem
```

鍵を PEM 形式から DER 形式に変換する例:

```sh
wolfssl pkey -in key.pem -inform pem -outform der -out key.der
```

公開鍵を読み込み、出力する例:

```sh
wolfssl pkey -pubin -in pubkey.pem -outform pem
```
